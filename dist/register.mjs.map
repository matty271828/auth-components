{"version":3,"file":"register.mjs","sources":["../src/components/RegistrationForm.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Eye, EyeOff, Loader2 } from \"lucide-react\"\nimport { auth } from \"@/lib/auth\"\nimport type { User } from \"@/lib/auth\"\n\ninterface RegistrationFormProps {\n  onSuccess?: (user: User) => void\n  onError?: (error: string) => void\n  redirectUrl?: string\n}\n\nexport default function RegistrationForm({ onSuccess, onError, redirectUrl }: RegistrationFormProps) {\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [firstName, setFirstName] = useState(\"\")\n  const [lastName, setLastName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!firstName || !lastName || !email || !password || !confirmPassword) {\n      setError(\"Please fill in all fields\")\n      return\n    }\n\n    if (password.length < 8) {\n      setError(\"Password must be at least 8 characters long\")\n      return\n    }\n\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\")\n      return\n    }\n\n    setIsLoading(true)\n    setError(\"\")\n\n    try {\n      const user = await auth.signup({ firstName, lastName, email, password })\n      console.log(\"Registration successful:\", user)\n      onSuccess?.(user)\n      \n      // Redirect after a short delay\n      if (redirectUrl) {\n        setTimeout(() => {\n          window.location.href = redirectUrl\n        }, 1000)\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Registration failed\"\n      setError(errorMessage)\n      onError?.(errorMessage)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gray-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">Create Account</CardTitle>\n          <CardDescription className=\"text-center\">Enter your details to create your account</CardDescription>\n        </CardHeader>\n        <form onSubmit={handleSubmit}>\n          <CardContent className=\"space-y-4\">\n            {error && (\n              <div className=\"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md\">\n                {error}\n              </div>\n            )}\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"firstName\">First Name</Label>\n                <Input \n                  id=\"firstName\" \n                  name=\"firstName\" \n                  type=\"text\" \n                  placeholder=\"John\" \n                  value={firstName}\n                  onChange={(e) => setFirstName(e.target.value)}\n                  required \n                  disabled={isLoading}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"lastName\">Last Name</Label>\n                <Input \n                  id=\"lastName\" \n                  name=\"lastName\" \n                  type=\"text\" \n                  placeholder=\"Doe\" \n                  value={lastName}\n                  onChange={(e) => setLastName(e.target.value)}\n                  required \n                  disabled={isLoading}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input \n                id=\"email\" \n                name=\"email\" \n                type=\"email\" \n                placeholder=\"john.doe@example.com\" \n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required \n                disabled={isLoading}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  minLength={8}\n                  disabled={isLoading}\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  disabled={isLoading}\n                >\n                  {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                  <span className=\"sr-only\">{showPassword ? \"Hide password\" : \"Show password\"}</span>\n                </Button>\n              </div>\n              <p className=\"text-xs text-muted-foreground\">\n                Password must be at least 8 characters long\n              </p>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type={showConfirmPassword ? \"text\" : \"password\"}\n                  placeholder=\"Confirm your password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  disabled={isLoading}\n                >\n                  {showConfirmPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                  <span className=\"sr-only\">{showConfirmPassword ? \"Hide password\" : \"Show password\"}</span>\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <Checkbox id=\"terms\" required disabled={isLoading} />\n              <Label htmlFor=\"terms\" className=\"text-sm font-normal\">\n                I agree to the{\" \"}\n                <a href=\"#\" className=\"text-primary hover:underline\">\n                  Terms of Service\n                </a>{\" \"}\n                and{\" \"}\n                <a href=\"#\" className=\"text-primary hover:underline\">\n                  Privacy Policy\n                </a>\n              </Label>\n            </div>\n          </CardContent>\n\n          <CardFooter className=\"flex flex-col space-y-4\">\n            <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Creating account...\n                </>\n              ) : (\n                \"Create Account\"\n              )}\n            </Button>\n            <p className=\"text-sm text-center text-muted-foreground\">\n              Already have an account?{\" \"}\n              <a href=\"#\" className=\"text-primary hover:underline font-medium\">\n                Sign in\n              </a>\n            </p>\n          </CardFooter>\n        </form>\n      </Card>\n    </div>\n  )\n} "],"names":["error"],"mappings":"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"}