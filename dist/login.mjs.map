{"version":3,"file":"login.mjs","sources":["../src/components/LoginForm.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Eye, EyeOff, Loader2 } from \"lucide-react\"\nimport { auth } from \"@/lib/auth\"\nimport type { User } from \"@/lib/auth\"\n\ninterface LoginFormProps {\n  onSuccess?: (user: User) => void\n  onError?: (error: string) => void\n  redirectUrl?: string\n}\n\nexport default function LoginForm({ onSuccess, onError, redirectUrl }: LoginFormProps) {\n  const [showPassword, setShowPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    if (!email || !password) {\n      setError(\"Please fill in all fields\")\n      return\n    }\n\n    setIsLoading(true)\n    setError(\"\")\n\n    try {\n      const user = await auth.login({ email, password })\n      console.log(\"Login successful:\", user)\n      onSuccess?.(user)\n      \n      // Redirect after a short delay\n      if (redirectUrl) {\n        setTimeout(() => {\n          window.location.href = redirectUrl\n        }, 1000)\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Login failed\"\n      setError(errorMessage)\n      onError?.(errorMessage)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gray-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">Welcome Back</CardTitle>\n          <CardDescription className=\"text-center\">Enter your credentials to access your account</CardDescription>\n        </CardHeader>\n        <form onSubmit={handleSubmit}>\n          <CardContent className=\"space-y-4\">\n            {error && (\n              <div className=\"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md\">\n                {error}\n              </div>\n            )}\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input \n                id=\"email\" \n                name=\"email\" \n                type=\"email\" \n                placeholder=\"john.doe@example.com\" \n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required \n                disabled={isLoading}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  disabled={isLoading}\n                >\n                  {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                  <span className=\"sr-only\">{showPassword ? \"Hide password\" : \"Show password\"}</span>\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2\">\n                <Checkbox id=\"remember\" disabled={isLoading} />\n                <Label htmlFor=\"remember\" className=\"text-sm font-normal\">\n                  Remember me\n                </Label>\n              </div>\n              <a href=\"#\" className=\"text-sm text-primary hover:underline\">\n                Forgot password?\n              </a>\n            </div>\n          </CardContent>\n\n          <CardFooter className=\"flex flex-col space-y-4\">\n            <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Signing in...\n                </>\n              ) : (\n                \"Sign In\"\n              )}\n            </Button>\n            <p className=\"text-sm text-center text-muted-foreground\">\n              Don't have an account?{\" \"}\n              <a href=\"#\" className=\"text-primary hover:underline font-medium\">\n                Create account\n              </a>\n            </p>\n          </CardFooter>\n        </form>\n      </Card>\n    </div>\n  )\n} "],"names":["error"],"mappings":"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"}